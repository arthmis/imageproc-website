<!DOCTYPE html>
<html>

    <head>
        <title>Image Processing</title>
        <meta content="text/html;charset=UTF-8" http-equiv="Content-Type"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.5">
        <link rel="stylesheet" type = "text/css" href="main.css"/>

    </head>

    <body>
        <div id="main">
            <div id="options">
                <div id="input-image"> 
                    <input type="file" id="file-input" accept="image/png, image/jpeg" style="display: none;">
                    <button id="upload-image">Import</button>
                </div>

                <ul class="processing-category"><span>Pixel Operations</span>
                    <li id="invert-option" class="sidebar-elem sidebar-first-elem">Invert</li>
                    <li id="gamma-option" class="sidebar-elem">Gamma</li>
                </ul>

                <ul class="processing-category"><span>Blur</span>
                    <li id="blur-options" class="processing-options sidebar-elem sidebar-first-elem">Box Blur</li>
                </ul>
            </div>
            <div id="image-options">
                <div id="two-canvases-wrapper">
                    <div id="two-canvases">
                        <canvas id="input-canvas" class="one-active-canvas"></canvas>
                        <canvas id="output-canvas"></canvas>
                    </div>
                    <div id="processing-options" style="display: none;">
                        <div id="box-blur-slider-wrapper" style="display: none;">
                            <input id="box-blur-slider" type="range" name="box-blur" min="1" max="51" step="2">
                            <label for="box-blur">box diameter</label>
                        </div>
                        <div id="gamma-slider-wrapper" style="display: none;">
                            <input id="gamma-slider" type="range" name="gamma" min="0.1" max="20" step="0.1">
                            <label for="gamma">gamma</label>
                        </div>
                    </div>
                    <div id="invert-info" class="algorithm-info algorithm-explanation" style="display: none;">
                        <h2>How Invert works</h2>
                        <p>
                            Color inversion is when the luminance of the pixel gets mapped to the opposite.
                            In other words, white gets mapped to black and black is mapped to white. If we assume
                            an image with the color channels red, green, blue and 8 bits per channel, then
                            the formula to map the luminance value is given by:
                            <blockquote>
                                <i>I<sub>invert</sub>(x, y) = Luminance<sub>max</sub> - I(x, y)</i>
                            </blockquote>                        
                            where <i>I</i> is the image, <i>Luminance<sub>max</sub></i> is 255 for an image with 8 bits
                            per color channel, and <i>x</i> and <i>y</i> are the coordinates of the pixel.
                            Using the above formula, if you have the RGB pixel <i>I(x, y)</i> = (50, 120, 200)
                            then <i>I<sub>invert</sub>(x, y)</i> = (205, 135, 55).
                        </p>
                    </div>
                    <div id="box-blur-info" class="algorithm-info" style="display: none;">
                        <h2>How Box Blur works</h2>
                        <p>A box blur is a convolution filter of the form: </p>
                    </div>
                    <div id="gamma-info" class="algorithm-info" style="display: none;">
                        <h2>How Gamma works</h2>
                        <p>Gamma is related to how the image values should be transformed</p>
                        <p>to be displayed on different viewing devices</p>
                    </div>
                </div>
            </div>
        </div>

        <script type="module" src="./js/dist/index.js"></script>
    </body>
</html>